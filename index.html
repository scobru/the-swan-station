<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
    <link rel="favicon icon" href="assets/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="src/style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gun/sea.js"></script>
    <title>The Swan Station</title>
  </head>
  
  <body>
    <div id="main-container">
      <!-- Navigation -->
      <nav id="nav-menu">
        <div class="nav-item active" data-screen="home">Home</div>
        <div class="nav-item" data-screen="about">About</div>
        <div class="nav-item" data-screen="history">History</div>
        <div class="nav-item" data-screen="faq">FAQ</div>
        <div class="nav-item" data-screen="profile">Profile</div>
        <div class="sound-toggle">
          <img src="assets/sound-on.png" alt="Toggle Sound" id="sound-toggle">
        </div>
      </nav>

      <!-- Auth Screen -->
      <div id="auth-container" class="screen">
        <div class="dharma-logo"></div>
        <div class="welcome-text">
          <h2>Welcome to The Swan Station</h2>
          <p>Every 108 minutes, the button must be pushed. From the moment the alarm sounds, you will have four minutes to enter the code into the microcomputer processor.</p>
          <p>Either you or your partners must input the code. It is highly recommended that you and your partners take alternating shifts. In this manner you will all stay fresh and alert.</p>
        </div>
        <div class="auth-form">
          <input type="text" id="username" placeholder="Username" autocomplete="username">
          <input type="password" id="password" placeholder="Password" autocomplete="current-password">
          <button id="register-button">Register</button>
          <button id="login-button">Login</button>
        </div>
      </div>

      <!-- Main Game Screen -->
      <div id="game-container" class="screen" style="display: none;">
        <div class="header">
          <div class="user-info">
            <span id="user-display"></span>
            <img id="user-flag" src="assets/question-mark.png" alt="Country Flag">
            <span class="points">Points: <span id="user-points">0</span></span>
            <span class="level" id="level-info">Level 1</span>
          </div>
          <div class="online-counter">
            Online Hatchies: <span id="online-counter">0</span>
          </div>
          <button id="logout-button">Logout</button>
        </div>
        
        <div class="main-interface">
          <div class="timer-section">
            <div class="timer-display">
              <span id="timer-display">108:00</span>
            </div>
            <input type="text" id="code-input" maxlength="17" placeholder="Enter code..." />
            <div class="code-hint">Code format: 4 8 15 16 23 42</div>
          </div>

          <div class="info-section">
            <div id="system-log" class="panel">
              <h3>System Log</h3>
              <div id="log-messages"></div>
            </div>

            <div id="statistics" class="panel">
              <h3>Statistics</h3>
              <div>Current Record: <span id="current-record">--</span></div>
              <div>Last Reset By: <span id="last-reset-by">--</span></div>
              <div>System Failures: <span id="system-failures">0</span></div>
              <div>Your Total Resets: <span id="total-resets">0</span></div>
              <div>Consecutive Resets: <span id="consecutive-resets">0</span></div>
            </div>

            <div id="chat-container" class="panel">
              <h3>Communication</h3>
              <div id="chat-messages"></div>
              <div class="chat-input-container">
                <input type="text" id="chat-input" placeholder="Type message..." />
                <button id="chat-send">Send</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- About Screen -->
      <div id="about-screen" class="screen" style="display: none;">
        <h2>About The Swan</h2>
        <div class="about-content">
          <img src="assets/swan.png" alt="Swan Station" class="about-image">
          <p>The Swan, more commonly known as The Hatch by the survivors of Flight 815, was an underground facility on the Island built by the DHARMA Initiative during the late 1970's.</p>
          <p>The DHARMA Initiative had originally designed the station to be a laboratory to study and manipulate the "unique electromagnetic fluctuations emanating from this sector of the Island," as described by Pierre Chang in the Swan orientation video. However, after the "incident", they enacted a special protocol to prevent a potential global catastrophe.</p>
          <p>Two individuals manning the station took shifts (entering numbers into a computer) every 108 minutes. These two operators lived and worked at the station, continuing this task for shifts lasting 540 days.</p>
          <a href="https://lostpedia.fandom.com/wiki/The_Swan" target="_blank" class="external-link">Read more on Lostpedia â†’</a>
        </div>
      </div>

      <!-- Add History Screen -->
      <div id="history-screen" class="screen" style="display: none;">
        <h2>Station History</h2>
        <div class="history-content">
          <div id="station-log-messages" class="scrollable-log"></div>
        </div>
      </div>

      <!-- FAQ Screen -->
      <div id="faq-screen" class="screen" style="display: none;">
        <h2>Frequently Asked Questions</h2>
        <div class="faq-content">
          <!-- FAQ items will be dynamically loaded -->
        </div>
      </div>

      <!-- Profile Screen -->
      <div id="profile-screen" class="screen" style="display: none;">
        <div class="profile-header">
          <div class="profile-image">
            <img id="profile-pic" src="assets/default-avatar.png" alt="Profile Picture">
            <button id="change-pic" class="hover-button">Change Picture</button>
          </div>
          <div class="profile-info">
            <h2 id="profile-username"></h2>
            <div class="profile-stats">
              <div>Level: <span id="profile-level"></span></div>
              <div>Points: <span id="profile-points"></span></div>
              <div>Total Resets: <span id="profile-resets"></span></div>
              <div>Time on Station: <span id="profile-time"></span></div>
            </div>
          </div>
        </div>
        <div class="profile-settings">
          <h3>Settings</h3>
          <button id="ignored-users">Manage Ignored Users</button>
          <button id="change-password">Change Password</button>
        </div>
      </div>

      <!-- System Failure Screen -->
      <div id="system-failure" class="screen" style="display: none;">
        <h1>SYSTEM FAILURE</h1>
        <div id="hieroglyphs"></div>
        <div class="failure-message">
          The timer has reached zero. The electromagnetic buildup has caused a system failure.
          All progress has been lost. The world has ended.
        </div>
      </div>

      <!-- Lockdown Screen -->
      <div id="lockdown" class="screen" style="display: none;">
        <div class="blast-door">
          <div class="blast-door-map"></div>
        </div>
        <div class="lockdown-message">LOCKDOWN IN PROGRESS</div>
      </div>

      <!-- Modals -->
      <div id="profile-pic-modal" class="modal" style="display: none;">
        <div class="modal-content">
          <h3>Change Profile Picture</h3>
          <div class="pic-options">
            <div class="option">
              <img src="assets/identicon.png" alt="Identicon">
              <button data-type="identicon">Use Identicon</button>
            </div>
            <div class="option">
              <img src="assets/gravatar.png" alt="Gravatar">
              <button data-type="gravatar">Use Gravatar</button>
            </div>
            <div class="option">
              <input type="file" id="custom-pic" accept="image/*">
              <button data-type="custom">Upload Picture</button>
            </div>
          </div>
          <button class="close-modal">Close</button>
        </div>
      </div>

      <div id="ignored-users-modal" class="modal" style="display: none;">
        <div class="modal-content">
          <h3>Ignored Users</h3>
          <div id="ignored-list"></div>
          <button class="close-modal">Close</button>
        </div>
      </div>
    </div>
  
    <script src="src/script.js"></script>
  </body>
</html>
